<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:a4j="http://richfaces.org/a4j">
<body>
	<ui:composition template="/templates/basicTemplate.xhtml">

		<ui:define name="title">
			Login.
		</ui:define>

		<ui:define name="body">

			<!-- 			<h:form id="myForm" rendered="#{!loginBean.connected}"> -->
			<!-- 				<rich:messages /> -->
			<!-- 				<h:outputLabel value="#{loginBean.registeringMessage}" /> -->
			<!-- 				<h:panelGrid columns="1"> -->
			<!-- 					<h:outputLabel value="Login:" for="login" /> -->
			<!-- 					<br /> -->
			<!-- 					<h:inputText value="#{loginBean.user.login}" required="true" -->
			<!-- 						id="login" class="form-control input-lg" p:placeholder="Login"> -->
			<!-- 						<f:validateLength minimum="3" /> -->
			<!-- 					</h:inputText> -->
			<!-- 					<br /> -->
			<!-- 					<h:message for=":myForm:login" styleClass="error" /> -->
			<!-- 					<br /> -->
			<!-- 					<br /> -->
			<!-- 					<h:outputLabel value="Password:" for="password" /> -->
			<!-- 					<br /> -->
			<!-- 					<h:inputSecret value="#{loginBean.user.password}" required="true" -->
			<!-- 						id="password"> -->
			<!-- 						<f:validateLength minimum="2" /> -->
			<!-- 					</h:inputSecret> -->
			<!-- 					<br /> -->
			<!-- 					<h:message for="password" styleClass="error" /> -->
			<!-- 					<br /> -->
			<!-- 					<br /> -->
			<!-- 					<h:commandButton value="Se connecter" action="#{loginBean.logMe}"> -->
			<!-- 					</h:commandButton> -->
			<!-- 					<h:link value="S'enregister" outcome="/pages/register.jsf"></h:link> -->
			<!-- 				</h:panelGrid> -->
			<!-- 			</h:form> -->

			<div class="container">

				<div class="row" style="margin-top: 20px">
					<div
						class="col-xs-12 col-sm-8 col-md-6 col-sm-offset-2 col-md-offset-3">
						<h:form id="myForm" rendered="#{!login.loggedIn}">
							<fieldset>
								<h2>Please Sign In</h2>
								<rich:messages />
								<div class="form-group">
									<h:inputText value="#{credentials.login}" required="true"
										id="login" class="form-control input-lg">
										<f:validateLength minimum="3" />
									</h:inputText>
									<h:message for=":myForm:login" styleClass="error" />
								</div>
								<div class="form-group">
									<h:inputSecret value="#{credentials.password}" required="true"
										id="password" class="form-control input-lg">
										<f:validateLength minimum="2" />
									</h:inputSecret>
									<h:message for="password" styleClass="error" />
								</div>
								<div class="row">
									<div class="col-xs-6 col-sm-6 col-md-6">
										<h:commandButton class="btn btn-lg btn-success btn-block"
											value="Sign In" action="#{login.login}">
										</h:commandButton>
									</div>
									<div class="col-xs-6 col-sm-6 col-md-6">

										<h:link value="S'enregister" outcome="/pages/register.jsf"
											class="btn btn-lg btn-primary btn-block"></h:link>
									</div>
								</div>
							</fieldset>
						</h:form>
						<h:form>
							<h:commandButton value="Logout" action="#{login.logout}"
								rendered="#{login.loggedIn}" />
						</h:form>
					</div>
				</div>

				<!-- 					<h:form>					 -->
				<!-- 					   <h:panelGrid columns="2" rendered="#{!login.loggedIn}">					 -->
				<!-- 					      <f:validateBean>					 -->
				<!-- 					         <h:outputLabel for="username">Username:</h:outputLabel>					 -->
				<!-- 					         <h:inputText id="username" value="#{credentials.username}"/>					 -->
				<!-- 					         <h:outputLabel for="password">Password:</h:outputLabel>					 -->
				<!-- 					         <h:inputSecret id="password" value="#{credentials.password}"/>					 -->
				<!-- 					      </f:validateBean>					 -->
				<!-- 					   </h:panelGrid> -->

				<!-- 					   <h:commandButton value="Login" action="#{login.login}" rendered="#{!login.loggedIn}"/>					 -->
				<!-- 					   <h:commandButton value="Logout" action="#{login.logout}" rendered="#{login.loggedIn}"/> -->

				<!-- 					</h:form> -->


				<h:panelGroup rendered="#{login.loggedIn}">
					
					   signed in as #{currentUser.username}
					
					</h:panelGroup>

			</div>

			<!-- 			<h:outputLabel rendered="#{loginBean.connected}"> -->
			<!-- 				T'es connecté tête de fion ! -->
			<!-- 			</h:outputLabel> -->
		</ui:define>



	</ui:composition>
</body>
</html>
